<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate lexical diversity — textstat_lexdiv • quanteda.textstats</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate lexical diversity — textstat_lexdiv"><meta property="og:description" content="Calculate the lexical diversity of text(s)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda.textstats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.97</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/quanteda/quanteda.textstats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate lexical diversity</h1>
    <small class="dont-index">Source: <a href="https://github.com/quanteda/quanteda.textstats/blob/HEAD/R/textstat_lexdiv.R" class="external-link"><code>R/textstat_lexdiv.R</code></a></small>
    <div class="hidden name"><code>textstat_lexdiv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the lexical diversity of text(s).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">textstat_lexdiv</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TTR"</span>, <span class="st">"C"</span>, <span class="st">"R"</span>, <span class="st">"CTTR"</span>, <span class="st">"U"</span>, <span class="st">"S"</span>, <span class="st">"K"</span>, <span class="st">"I"</span>, <span class="st">"D"</span>, <span class="st">"Vm"</span>, <span class="st">"Maas"</span>, <span class="st">"MATTR"</span>,</span>
<span>    <span class="st">"MSTTR"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  remove_numbers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_punct <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_symbols <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_hyphens <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log.base <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  MATTR_window <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  MSTTR_segment <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>an <a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a> or <a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a> input object for whose documents
lexical diversity will be computed</p></dd>


<dt>measure</dt>
<dd><p>a character vector defining the measure to compute</p></dd>


<dt>remove_numbers</dt>
<dd><p>logical; if <code>TRUE</code> remove features or tokens that
consist only of numerals (the Unicode "Number" <code>[N]</code> class)</p></dd>


<dt>remove_punct</dt>
<dd><p>logical; if <code>TRUE</code> remove all features or tokens
that consist only of the Unicode "Punctuation" <code>[P]</code> class)</p></dd>


<dt>remove_symbols</dt>
<dd><p>logical; if <code>TRUE</code> remove all features or tokens
that consist only of the Unicode "Punctuation" <code>[S]</code> class)</p></dd>


<dt>remove_hyphens</dt>
<dd><p>logical; if <code>TRUE</code> split words that are connected
by hyphenation and hyphenation-like characters in between words, e.g.
"self-storage" becomes two features or tokens "self" and "storage". Default
is FALSE to preserve such words as is, with the hyphens.</p></dd>


<dt>log.base</dt>
<dd><p>a numeric value defining the base of the logarithm (for
measures using logarithms)</p></dd>


<dt>MATTR_window</dt>
<dd><p>a numeric value defining the size of the moving window
for computation of the Moving-Average Type-Token Ratio (Covington &amp; McFall, 2010)</p></dd>


<dt>MSTTR_segment</dt>
<dd><p>a numeric value defining the size of the each segment
for the computation of the the Mean Segmental Type-Token Ratio (Johnson, 1944)</p></dd>


<dt>...</dt>
<dd><p>not used directly</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data.frame of documents and their lexical diversity scores.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>textstat_lexdiv</code> calculates the lexical diversity of documents
using a variety of indices.</p>
<p>In the following formulas, \(N\) refers to the total number of
tokens, \(V\) to the number of types, and \(f_v(i, N)\) to the numbers
of types occurring \(i\) times in a sample of length \(N\).</p><dl><dt><code>"TTR"</code>:</dt>
<dd><p>The ordinary <em>Type-Token Ratio</em>: $$TTR =
  \frac{V}{N}$$</p></dd>


<dt><code>"C"</code>:</dt>
<dd><p>Herdan's <em>C</em> (Herdan, 1960, as cited in Tweedie &amp;
Baayen, 1998; sometimes referred to as <em>LogTTR</em>): $$C =
  \frac{\log{V}}{\log{N}}$$</p></dd>


<dt><code>"R"</code>:</dt>
<dd><p>Guiraud's <em>Root TTR</em> (Guiraud, 1954, as cited in
Tweedie &amp; Baayen, 1998): $$R = \frac{V}{\sqrt{N}}$$</p></dd>


<dt><code>"CTTR"</code>:</dt>
<dd><p>Carroll's <em>Corrected TTR</em>: $$CTTR =
  \frac{V}{\sqrt{2N}}$$</p></dd>


<dt><code>"U"</code>:</dt>
<dd><p>Dugast's <em>Uber Index</em>  (Dugast, 1978, as cited in
Tweedie &amp; Baayen, 1998): $$U = \frac{(\log{N})^2}{\log{N} - \log{V}}$$</p></dd>


<dt><code>"S"</code>:</dt>
<dd><p>Summer's index: $$S =
  \frac{\log{\log{V}}}{\log{\log{N}}}$$</p></dd>


<dt><code>"K"</code>:</dt>
<dd><p>Yule's <em>K</em>  (Yule, 1944, as presented in Tweedie &amp;
Baayen, 1998, Eq. 16) is calculated by: $$K = 10^4 \times
  \left[ -\frac{1}{N} + \sum_{i=1}^{V} f_v(i, N) \left( \frac{i}{N} \right)^2 \right] $$</p></dd>


<dt><code>"I"</code>:</dt>
<dd><p>Yule's <em>I</em>  (Yule, 1944) is calculated by: $$I = \frac{V^2}{M_2 - V}$$
$$M_2 = \sum_{i=1}^{V} i^2 * f_v(i, N)$$</p></dd>


<dt><code>"D"</code>:</dt>
<dd><p>Simpson's <em>D</em>  (Simpson 1949, as presented in
Tweedie &amp; Baayen, 1998, Eq. 17) is calculated by:
$$D = \sum_{i=1}^{V} f_v(i, N) \frac{i}{N} \frac{i-1}{N-1}$$</p></dd>


<dt><code>"Vm"</code>:</dt>
<dd><p>Herdan's \(V_m\)  (Herdan 1955, as presented in
Tweedie &amp; Baayen, 1998, Eq. 18) is calculated by:
$$V_m = \sqrt{ \sum_{i=1}^{V} f_v(i, N) (i/N)^2 - \frac{i}{V} }$$</p></dd>


<dt><code>"Maas"</code>:</dt>
<dd><p>Maas' indices (\(a\), \(\log{V_0}\) &amp;
\(\log{}_{e}{V_0}\)): $$a^2 = \frac{\log{N} -
  \log{V}}{\log{N}^2}$$ $$\log{V_0} =
  \frac{\log{V}}{\sqrt{1 - \frac{\log{V}}{\log{N}}^2}}$$ The measure was derived from a formula by
Mueller (1969, as cited in Maas, 1972). \(\log{}_{e}{V_0}\) is equivalent
to \(\log{V_0}\), only with \(e\) as the base for the logarithms. Also
calculated are \(a\), \(\log{V_0}\) (both not the same as before) and
\(V'\) as measures of relative vocabulary growth while the text
progresses. To calculate these measures, the first half of the text and the
full text will be examined (see Maas, 1972, p. 67 ff. for details).  Note:
for the current method (for a dfm) there is no computation on separate
halves of the text.</p></dd>


<dt><code>"MATTR"</code>:</dt>
<dd><p>The Moving-Average Type-Token Ratio (Covington &amp;
McFall, 2010) calculates TTRs for a moving window of tokens from the first
to the last token, computing a TTR for each window. The MATTR is the mean
of the TTRs of each window.</p></dd>


<dt><code>"MSTTR"</code>:</dt>
<dd><p>Mean Segmental Type-Token Ratio (sometimes referred
to as <em>Split TTR</em>) splits the tokens into segments of the given size,
TTR for each segment is calculated and the mean of these values returned.
When this value is &lt; 1.0, it splits the tokens into equal, non-overlapping
sections of that size.  When this value is &gt; 1, it defines the segments as
windows of that size. Tokens at the end which do not make a full segment
are ignored.</p></dd>


</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Covington, M.A. &amp; McFall, J.D. (2010). Cutting the Gordian Knot: The
Moving-Average Type-Token Ratio (MATTR) <em>Journal of Quantitative
Linguistics</em>, 17(2), 94--100.
<a href="https://doi.org/10.1080/09296171003643098" class="external-link">doi:10.1080/09296171003643098</a></p>
<p>Herdan, G. (1955). <a href="https://link.springer.com/article/10.1007/BF01587632" class="external-link">A New Derivation and Interpretation of Yule's 'Characteristic' <em>K</em></a>. <em>Zeitschrift
für angewandte Mathematik und Physik</em>, 6(4): 332--334.</p>
<p>Maas, H.D. (1972). Über den Zusammenhang zwischen Wortschatzumfang und
Länge eines Textes. <em>Zeitschrift für Literaturwissenschaft und Linguistik</em>,
2(8), 73--96.</p>
<p>McCarthy, P.M. &amp;  Jarvis, S. (2007). vocd: A Theoretical and Empirical
Evaluation. <em>Language Testing</em>, 24(4), 459--488.
<a href="https://doi.org/10.1177/0265532207080767" class="external-link">doi:10.1177/0265532207080767</a></p>
<p>McCarthy, P.M. &amp; Jarvis, S. (2010). <a href="https://link.springer.com/article/10.3758/BRM.42.2.381" class="external-link">MTLD, vocd-D, and HD-D: A Validation Study of Sophisticated Approaches to Lexical Diversity Assessment</a>.
<em>Behaviour Research Methods</em>, 42(2), 381--392.</p>
<p>Michalke, M. (2014). <em>koRpus: An R Package for Text Analysis (Version
0.05-4)</em>. Available from <a href="https://reaktanz.de/?c=hacking&amp;s=koRpus" class="external-link">https://reaktanz.de/?c=hacking&amp;s=koRpus</a>.</p>
<p>Simpson, E.H. (1949). Measurement of Diversity. <em>Nature</em>, 163: 688.
<a href="https://doi.org/10.1038/163688a0" class="external-link">doi:10.1038/163688a0</a></p>
<p>Tweedie. F.J. and Baayen, R.H. (1998). How Variable May a Constant Be?
Measures of Lexical Richness in Perspective. <em>Computers and the
Humanities</em>, 32(5), 323--352.  <a href="https://doi.org/10.1023/A%3A1001749303137" class="external-link">doi:10.1023/A:1001749303137</a></p>
<p>Yule, G. U. (1944)  <em>The Statistical Study of Literary Vocabulary.</em>
Cambridge: Cambridge University Press.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Kenneth Benoit and Jiong Wei Lua. Many of the formulas have been
reimplemented from functions written by Meik Michalke in the <span class="pkg">koRpus</span>
package.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://quanteda.io" class="external-link">"quanteda"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Anyway, like I was sayin', shrimp is the fruit of the sea. You can</span></span></span>
<span class="r-in"><span><span class="st">          barbecue it, boil it, broil it, bake it, saute it."</span>,</span></span>
<span class="r-in"><span>         <span class="st">"There's shrimp-kabobs,</span></span></span>
<span class="r-in"><span><span class="st">          shrimp creole, shrimp gumbo. Pan fried, deep fried, stir-fried. There's</span></span></span>
<span class="r-in"><span><span class="st">          pineapple shrimp, lemon shrimp, coconut shrimp, pepper shrimp, shrimp soup,</span></span></span>
<span class="r-in"><span><span class="st">          shrimp stew, shrimp salad, shrimp and potatoes, shrimp burger, shrimp</span></span></span>
<span class="r-in"><span><span class="st">          sandwich."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="va">txt</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">textstat_lexdiv</span><span class="op">(</span>measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TTR"</span>, <span class="st">"CTTR"</span>, <span class="st">"K"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   document       TTR     CTTR         K</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    text1 0.7916667 2.742414  381.9444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    text2 0.6060606 2.461830 1248.8522</span>
<span class="r-in"><span><span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="va">txt</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">textstat_lexdiv</span><span class="op">(</span>measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TTR"</span>, <span class="st">"CTTR"</span>, <span class="st">"K"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   document       TTR     CTTR         K</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    text1 0.7916667 2.742414  381.9444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    text2 0.6060606 2.461830 1248.8522</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">toks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="fu"><a href="https://quanteda.io/reference/corpus_subset.html" class="external-link">corpus_subset</a></span><span class="op">(</span><span class="va">data_corpus_inaugural</span>, <span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">2000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">textstat_lexdiv</span><span class="op">(</span><span class="va">toks</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CTTR"</span>, <span class="st">"TTR"</span>, <span class="st">"MATTR"</span><span class="op">)</span>, MATTR_window <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     document     CTTR       TTR     MATTR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  2001-Bush 10.37904 0.3689198 0.6885984</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2005-Bush 11.26505 0.3500724 0.6781998</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2009-Obama 12.91628 0.3736402 0.7070275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2013-Obama 11.99681 0.3709369 0.7029654</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2017-Trump 10.01461 0.3728344 0.6670238</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2021-Biden 10.59754 0.3081150 0.6816012</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Jiong Wei Lua, Jouni Kuha, European Research Council.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

